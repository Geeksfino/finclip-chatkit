ğŸš€ [GemmaTest] Starting Gemma-3-270M test
   Model path: /Users/cliang/repos/finclip/finclip-chatkit/demo-apps/iOS/MyPal/App/Models/gemma-3-270m-it-4bit
   Prompt: Hello
   Max tokens: 2
   Temperature: 0.7

ğŸ“¦ [GemmaTest] Loading model...
ğŸ“‹ [WeightLoader] Loading config.json...
âš–ï¸  [WeightLoader] Loading model.safetensors (this may take 10-30 seconds)...
â±ï¸  [WeightLoader] Loaded 490 tensors in 0.0 seconds
ğŸ“‹ [WeightLoader] Sample tensor names: model.embed_tokens.biases, model.embed_tokens.scales, model.embed_tokens.weight, model.layers.0.input_layernorm.weight, model.layers.0.mlp.down_proj.biases, model.layers.0.mlp.down_proj.scales, model.layers.0.mlp.down_proj.weight, model.layers.0.mlp.gate_proj.biases, model.layers.0.mlp.gate_proj.scales, model.layers.0.mlp.gate_proj.weight
ğŸ“‹ [GemmaConfig] Loaded config:
   vocabSize: 262144
   hiddenSize: 640
   numLayers: 18
   numAttentionHeads: 4
   numKVHeads: 1
   headDim: 256
   intermediateSize: 2048
   layerNormEps: 1e-06
âœ… [GemmaTest] Model weights loaded

ğŸ—ï¸  [GemmaTest] Initializing model architecture...
âš ï¸ [Gemma3_270M] Config hiddenSize=640, but embedding suggests 80
âœ… [GemmaTest] Model initialized

ğŸ“ [GemmaTest] Loading tokenizer...
ğŸ“ [TokenizerLoader] Found tokenizer files:
   tokenizer.json: true
   tokenizer.model: true
ğŸ“ [TokenizerLoader] Loading tokenizer using swift-transformers...
âœ… [TokenizerLoader] Tokenizer loaded successfully
âœ… [GemmaTest] Tokenizer loaded

ğŸ”¤ [GemmaTest] Encoding prompt...
   Input tokens: [2, 9259]
   Token count: 2

ğŸ¤– [GemmaTest] Generating response...
   (This may take a while)

 subsistence mili

âœ… [GemmaTest] Generation complete
   Total tokens generated: 2

ğŸ“„ [GemmaTest] Full response:
<bos>Hello subsistence mili

âœ… Test completed successfully
